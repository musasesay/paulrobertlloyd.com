---
permalink: /feed.json
regenerate: true
---
{
  "version": "https://jsonfeed.org/version/1",
  "title": {{ site.title | jsonify }},
  "description": {{ site.description | jsonify }},
  "home_page_url": {{ site.url | jsonify }},
  "feed_url": {{ site.url | append: "/feed.json" | jsonify }},
  "icon": {{ site.images.url | append: "/icon.png" | jsonify }},
  "favicon": {{ site.url | append: "/favicon.ico" | jsonify }},
  "author": {
    "name": {{ site.author.name | jsonify }},
    "url": {{ site.author.url | jsonify }},
    "avatar": {{ site.author.avatar | jsonify }}
  },
  {% assign items = site.documents | where: "feed", true | sort: "date" | reverse -%}
  "items": [{% for item in items limit: 25 %}
    {
      "id": {{ item.url | prepend: site.url | jsonify }},
      "url": {{ item.url | prepend: site.url | jsonify }},
      {% if item.link %}"external_url": {{ item.link | jsonify }},{% endif %}
      {% if item.title != "" %}"title": {{ item.title | smartify | jsonify }},{% endif %}
      {% if item.excerpt != "" %}"summary": {{ item.excerpt | strip_newlines | jsonify }},{% endif %}
      {%- comment -%}`image:` should have same image and quality values as default image preset{%- endcomment -%}
      {% if item.image.src %}"image": {{ item.image.src | prepend: "/image/1280x/90q/" | prepend: site.url | jsonify }},{% endif %}
      "content_html": {% capture content_html %}{% include feed/content.html %}{% endcapture %}{{ content_html | strip_newlines | jsonify }},
      "date_published": {{ item.date | date_to_xmlschema | jsonify }},
      "tags": {{ item.tags | jsonify }}
    }{% if forloop.last %}{% else %},{% endif %}
  {%- endfor %}]
}
