---
layout: default
title: Archive
permalink: /journal/archive/
---
<section class="index index--archive">
{% for post in site.posts %}
    {% capture this_year %}{{ post.date | date: "%Y" }}{% endcapture %}
    {% capture this_month %}{{ post.date | date: "%m" }}{% endcapture %}
    {% capture this_month_name %}{{ post.date | date: "%B %Y" }}{% endcapture %}
    {% capture next_year %}{{ post.previous.date | date: "%Y" }}{% endcapture %}
    {% capture next_month %}{{ post.previous.date | date: "%m" }}{% endcapture %}
    {% capture next_month_name %}{{ post.previous.date | date: "%B %Y" }}{% endcapture %}

    {% if forloop.first %}
        <header class="index__header">
            <h1 class="index__title"><a href="/{{ this_year }}/{{ this_month }}/">{{ this_month_name }}</a></h1>
        </header>
        <ol class="list list--entries" reversed>
    {% endif %}

            {% if post.chapter-title == null %}<li class="entry-list__item" value="{{ post.date | date: "%-d" }}"><a href="{{ post.url }}">{{ post.title | typeset }}</a></li>{% endif %}

    {% if forloop.last %}
        </ol>
    {% else %}
        {% if this_year != next_year %}
        </ol>

        <header class="index__header">
            <h1 class="index__title"><a href="/{{ next_year }}/{{ next_month }}/">{{ next_month_name }}</a></h1>
        </header>
        <ol class="list list--entries" reversed>
        {% else %}
            {% if this_month != next_month %}
        </ol>

        <header class="index__header">
            <h1 class="section__title"><a href="/{{ this_year }}/{{ next_month }}/">{{ next_month_name }}</a></h1>
        </header>
        <ol class="list list--entries" reversed>
            {% endif %}
        {% endif %}
    {% endif %}
{% endfor %}
</section>

{% include forms/search.html %}
{% include navigation/nav--years.html %}