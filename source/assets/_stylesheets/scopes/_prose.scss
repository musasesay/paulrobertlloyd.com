/*  =========================================================================
    Prose
    ========================================================================= */

.s-prose {
    @include ff--serif;
    @include fs--body;
    font-feature-settings: 'liga', 'dlig', 'onum';

    h2 {
        @include ff--sans-serif(700);
        @include fs--heading-2;
        margin-bottom: $u__baseline;
    }

    h3 {
        @include ff--sans-serif(700);
        @include fs--heading-3;
        margin-bottom: ($u__baseline / 4);
    }

    h4 {
        @include ff--sans-serif;
        @include fs--heading-4;
        margin-bottom: $u__baseline;
    }

    * + h2,
    * + h3,
    * + h4 {
        margin-top: ($u__baseline * 3);
    }

    > p,
    > ul,
    > ol,
    > dl,
    > pre,
    > blockquote,
    > table,
    > fieldset,
    > .c-embed,
    .highlighter-rouge {
        margin-bottom: ($u__baseline * 1.25);
    }

    // Adjust font-size of san-serif emboldened text, so x-height matches serif
    p > strong,
    dt {
        font-size: 115%;
    }

    a:not(.c-button) {
        @include text-decoration-color(rgba($c__identity--1, 0.5));

        @media print {
            @include text-decoration-color($c__neutral--2);

            &::after {
                @include ff--monospace;
                font-size: 80%;
                content: '[' attr(href) ']';
            }
        }

        .t-inverted & {
            @include text-decoration-color($c__neutral--9a);
        }
    }

    a:not(.c-button):hover {
        @include text-decoration-color($c__identity--2);

        .t-inverted & {
            @include text-decoration-color($c__neutral--9);
        }
    }

    a:not(.c-button):active {
        @include text-decoration-color(lighten($c__identity--2, 10%));

        .t-inverted & {
            @include text-decoration-color(lighten($c__neutral--9, 10%));
        }
    }
}
