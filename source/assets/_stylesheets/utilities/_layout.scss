/*  =========================================================================
    Layout
    ========================================================================= */
$g__ratio: (12/8); // Outer column count/inner column count
$g__inner-gutter: (gutter() * $g__ratio);
$g__inner-pull-left: (span(3) * $g__ratio);
$g__inner-pull-right: (span(1) * $g__ratio);

/* Container */
.u-container {
    @include container($u__max-width);
    margin-right: auto;
    margin-left: auto;
    padding-right: $u__baseline;
    padding-left: $u__baseline;

    @media (min-width: $b__a) {
        padding-right: ($u__baseline * 2);
        padding-left: ($u__baseline * 2);
    }

    @media (min-width: $b__c) {
        padding-right: 0;
        padding-left: 0;
    }
}


/* Vertically separate two strings with a slash */
.u-separate {
    &::after {
        margin: 0 ($u__baseline / 4);
        color: $c__neutral-4;
        font-weight: normal;
        content: '\00a0/';
    }

    &:nth-child(n+2):last-child::after {
        content: none;
    }
}


/* Align element right or left */
.u-align-right {
    float: right;
    margin-top: 0;
    margin-bottom: ($u__baseline / 2);
    margin-left: $g__inner-gutter;
    width: (span(2) * $g__ratio);
}

.u-align-left {
    float: left;
    margin-top: 0;
    margin-right: $g__inner-gutter;
    margin-bottom: ($u__baseline / 2);
    width: (span(2) * $g__ratio);
}


/* Pull element aside */
.u-aside {
    @media (min-width: $b__b) {
        float: left;
        margin-right: $g__inner-gutter;
        margin-left: (($g__inner-pull-left + $g__inner-gutter) * -1);
        width: $g__inner-pull-left;
    }

    + * {
        margin-top: 0 !important;
    }
}


/* Pull element right or left */
.u-pull-right {
    @media (min-width: $b__a) {
        float: right;
        margin-left: $g__inner-gutter;
        width: (span(4) * $g__ratio);
    }

    @media (min-width: $b__b) {
        margin-right: (($g__inner-pull-right + $g__inner-gutter) * -1);
    }
}

.u-pull-left {
    @media (min-width: $b__a) {
        float: left;
        margin-right: $g__inner-gutter;
        width: (span(4) * $g__ratio);
    }

    @media (min-width: $b__b) {
        margin-left: (($g__inner-pull-left + $g__inner-gutter) * -1);
    }
}


/* On wider breakpoints, bleed element to edges of the main container */
.u-bleed {
    margin-right: ($u__baseline * -1);
    margin-left: ($u__baseline * -1);

    @media (min-width: $b__a) {
        margin-right: ($u__baseline * -2);
        margin-left: ($u__baseline * -2);
    }
}


/* On wider breakpoints, extend element outwards by an additional column */
.u-bleed,
.u-extend,
%u-extend {
    @media (min-width: $b__b) {
        margin-right: (($g__inner-pull-right + $g__inner-gutter) * -1);
        margin-left: (($g__inner-pull-left + $g__inner-gutter) * -1);
    }
}
